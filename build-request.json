{
  "kind": "build_request",
  "title": "Student Login with Mobile Number and Password",
  "projectName": "STS Hub",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Update the backend student authentication to support password-based login: add a password field to the Student data type, provide a registerStudent function that accepts mobile number and password, and provide a studentLogin function that verifies mobile number + password and returns a session token.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Student ko login ke liye mobile no. Or password option chahiye"
        ]
      },
      "acceptanceCriteria": [
        "Student data type includes a hashed or plaintext password field",
        "registerStudent accepts mobileNumber and password parameters",
        "studentLogin accepts mobileNumber and password and returns a session token on success",
        "studentLogin returns an error if credentials are invalid"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add React Query hooks (useStudentLogin, useStudentRegister) in useQueries.ts that call the new backend studentLogin and registerStudent functions.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Student ko login ke liye mobile no. Or password option chahiye"
        ]
      },
      "acceptanceCriteria": [
        "useStudentLogin mutation calls the backend studentLogin with mobileNumber and password",
        "useStudentRegister mutation calls the backend registerStudent with mobileNumber and password",
        "On successful login, session token and student name are stored via useStudentAuth"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Replace the existing OTP-based StudentLogin page (frontend/src/pages/StudentLogin.tsx) with a mobile number + password login form. The page should have two tabs or toggle options: 'Login' (mobile number + password fields) and 'Register' (mobile number + password + confirm password fields). On successful login, navigate to the student dashboard.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Student ko login ke liye mobile no. Or password option chahiye"
        ]
      },
      "acceptanceCriteria": [
        "Login form has Mobile Number and Password fields",
        "Register form has Mobile Number, Password, and Confirm Password fields",
        "Password mismatch on registration shows an inline error",
        "Successful login stores session token and redirects to student dashboard",
        "Failed login shows an error message (e.g., 'Invalid mobile number or password')",
        "Form fields are validated (non-empty, mobile number is numeric and 10 digits)"
      ]
    }
  ],
  "constraints": [
    "Do not break existing admin authentication flow",
    "Do not modify files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or frontend/src/components/ui"
  ],
  "nonGoals": [
    "OTP-based login (replacing entirely with password-based flow)",
    "Social login or Internet Identity for students",
    "Email-based login"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}